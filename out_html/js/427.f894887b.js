"use strict";(self["webpackChunkwyq_shopping"]=self["webpackChunkwyq_shopping"]||[]).push([[427],{2427:function(t,a,s){s.r(a),s.d(a,{default:function(){return h}});var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"order"},[a("van-nav-bar",{attrs:{title:"我的订单","left-arrow":""},on:{"click-left":function(a){return t.$router.go(-1)}}}),a("van-tabs",{model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[a("van-tab",{attrs:{name:"all",title:"全部"}}),a("van-tab",{attrs:{name:"payment",title:"待支付"}}),a("van-tab",{attrs:{name:"delivery",title:"待发货"}}),a("van-tab",{attrs:{name:"received",title:"待收货"}}),a("van-tab",{attrs:{name:"comment",title:"待评价"}})],1),a("OrderListItem",{attrs:{list:t.orderList}})],1)},i=[],r=function(){var t=this,a=t._self._c;return t.list.length>0?a("div",{staticClass:"order-list-item"},t._l(t.list,(function(s){return a("div",{key:s.order_id},[a("div",{staticClass:"tit"},[a("div",{staticClass:"time"},[t._v(t._s(s.create_time))]),a("div",{staticClass:"status"},[a("span",[t._v(t._s(s.state_text))])])]),a("div",{staticClass:"list"},t._l(s.goods,(function(s){return a("div",{key:s.goods_id,staticClass:"list-item"},[a("div",{staticClass:"goods-img"},[a("img",{attrs:{src:s.goods_image,alt:""}})]),a("div",{staticClass:"goods-content text-ellipsis-2"},[t._v(" "+t._s(s.goods_name)+" ")]),a("div",{staticClass:"goods-trade"},[a("p",[t._v("¥ "+t._s(s.total_pay_price))]),a("p",[t._v("x "+t._s(s.total_num))])])])})),0),a("div",{staticClass:"total"},[t._v(" 共"+t._s(s.total_num)+"件商品，总金额 ¥"+t._s(s.total_price)+" ")]),a("div",{staticClass:"actions"},[10===s.order_status?a("div",[10===s.pay_status?a("span",[t._v("立刻付款")]):10===s.delivery_status?a("span",[t._v("申请取消")]):20===s.delivery_status||30===s.delivery_status?a("span",[t._v("确认收货")]):t._e()]):t._e(),30===s.order_status?a("div",[a("span",[t._v("评价")])]):t._e()])])})),0):t._e()},l=[],n={props:{list:{type:Array,default:()=>[]}}},o=n,d=s(1656),c=(0,d.A)(o,r,l,!1,null,"6a464db6",null),v=c.exports,_=s(5720);const u=(t,a)=>_.A.get("/order/list",{params:{dataType:t,page:a}});var m={name:"OrderPage",components:{OrderListItem:v},data(){return{activeName:this.$route.query.dataType||"all",orderList:[],page:1}},watch:{activeName(t){console.log(t),this.getOrderList()}},created(){this.getOrderList()},methods:{async getOrderList(){const t=await u(this.activeName,this.page);this.orderList=t.data.list.data,this.orderList.forEach((t=>{t.total_num=0,t.goods.forEach((a=>{t.total_num+=a.total_num}))})),console.log(t)}}},p=m,g=(0,d.A)(p,e,i,!1,null,"4ce26c72",null),h=g.exports}}]);
//# sourceMappingURL=427.f894887b.js.map